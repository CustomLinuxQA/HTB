---
tags: [kb, tool, nmap, recon]
---

# Nmap

## Зачем нужен
Nmap — инструмент для сетевой разведки:
- поиск открытых портов
- определение сервисов и версий
- первичная классификация цели

Это **первый шаг Recon** почти в любой HTB машине.

---

## Базовый workflow
1) Найти все открытые порты  
2) Определить сервисы и версии  
3) Углубиться в интересные сервисы  

---

## Минимальный набор команд (90% случаев)

### 1️⃣ Быстрый полный скан портов
```bash
nmap -p- --min-rate 10000 <IP>
```

### Детальный скан найденных портов

`nmap -sC -sV -p 80,443,22 <IP>`

- `-sC` — стандартные NSE-скрипты
- `-sV` — версии сервисов

---

### 3️⃣ Если нужно аккуратно

`nmap -p- -T3 <IP>`

Используй если цель “хрупкая”.

---

## Полезные флаги

|Флаг|Что делает|
|---|---|
|`-p-`|все 65535 портов|
|`-sC`|стандартные NSE|
|`-sV`|определение версии|
|`-A`|агрессивный режим (шумно)|
|`-Pn`|не ждать ping|
|`--min-rate`|ускорение скана|

---

## Частые ошибки новичка

- ❌ сканить только `-sC -sV`
- ❌ забывать `-p-`
- ❌ не пересканировать найденные порты
- ❌ сразу идти в веб без понимания сервисов

---

## Как интерпретировать результат

Примеры:

- `80/tcp open http` → web enum
    
- `22/tcp open ssh` → creds, brute, keys
    
- `5985/tcp open wsman` → Windows / WinRM
    
- `3306/tcp open mysql` → SQLi / creds reuse
    

---

## Когда идти дальше

После nmap ты должен уметь ответить:

- Linux или Windows?
- Есть web?
- Есть нестандартные сервисы?

Если нет ответа — Recon не закончен.

---

## Связанные заметки

- [[02-Playbooks/Enumeration-Checklist]]
- [[03-KB/Tools/Feroxbuster]]
- [[03-KB/Tools/Gobuster]]